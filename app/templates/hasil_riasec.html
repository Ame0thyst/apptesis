{% extends "base.html" %}
{% block title %}Hasil Tes RIASEC{% endblock %}
{% block content %}
<div class="flex flex-col items-center">
  <div class="bg-white rounded-2xl shadow-lg px-8 py-8 max-w-lg w-full text-center">
    <h2 class="text-2xl font-bold mb-4">Hasil Tes RIASEC</h2>
    <div class="flex flex-row justify-between items-center">
      <div>
        <canvas id="barChart" width="200" height="200"></canvas>
      </div>
      <div class="ml-6">
        <div class="text-lg">Top 3 Kode:</div>
        <div class="text-4xl font-bold mt-2">{{ top3 }}</div>
      </div>
    </div>
    <a href="{{ url_for('siswa.input_nilai') }}" class="block w-full bg-blue-700 text-white py-3 rounded-full font-semibold mt-8">Isi Nilai Rapor</a>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const data = {
  labels: ['R', 'I', 'A', 'S', 'E', 'C'],
  datasets: [{
    label: 'Skor',
    data: {{ skor_list|tojson }},
    backgroundColor: ['#38bdf8', '#0ea5e9', '#2563eb', '#1d4ed8', '#818cf8', '#a5b4fc']
  }]
};
new Chart(document.getElementById('barChart'), {
  type: 'bar',
  data: data,
  options: { plugins: {legend: {display: false}}, scales:{y:{beginAtZero:true}} }
});
</script>
{% endblock %}